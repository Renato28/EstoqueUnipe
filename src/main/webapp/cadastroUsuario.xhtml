<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<ui:composition template="/layout/template.xhtml"
	xmlns:unipe="http://java.sun.com/jsf/composite/unipe">
	<ui:define name="content">
		<p:messages showDetail="true" showSummary="false" globalOnly="true" />
		<p:panel header="Cadastro de Usuários">

			<h:form id="form" prependId="false">
				<p:panelGrid columns="1">

					<p:outputLabel value="Nome:" for="nome" />
					<p:inputText id="nome" value="#{usuarioBean.usuario.nome}"
						required="true" />

					<p:outputLabel value="Username:" for="username" />
					<p:inputText id="username" value="#{usuarioBean.usuario.username}"
						required="true" validator="usernameValidator" />

					<p:outputLabel value="Email:" for="email" />
					<p:inputText id="email" value="#{usuarioBean.usuario.email}">
					</p:inputText>
					<p:message for="email" />

					<p:outputLabel value="Password:" for="passwd" />
					<p:password id="passwd" value="#{usuarioBean.usuario.password}">
					</p:password>
					<p:message for="passwd" />

					<p:outputLabel value="Sexo:" for="sexo" />
					<p:selectOneRadio id="sexo" value="#{usuarioBean.usuario.sexo}"
						converter="sexoConverter">
						<f:selectItems value="#{usuarioBean.listSexo}" />
					</p:selectOneRadio>
					<p:message for="sexo" />

<!-- 					<h:outputLabel id="lbPessoa" value="Pessoa: " for="pessoa" /> -->
<!-- 					<p:selectOneRadio id="pessoa" value="#{usuarioBean.usuario.pessoa}" -->
<!-- 						required="true" requiredMessage="Campo [Pessoa] é obrigatório."> -->
<!-- 						<f:selectItem itemLabel="Jurídica" itemValue="Jurídica" /> -->
<!-- 						<f:selectItem itemLabel="Física" itemValue="Física" /> -->
<!-- 						<p:ajax event="change" update="pnlPessoa, pnlCpfOUCnpj" /> -->
<!-- 					</p:selectOneRadio> -->

<!-- 					<p:outputPanel id="pnlPessoa" style="float: right;"> -->

<!-- 						<h:outputLabel id="lbCpf" value="CPF:" for="cpf" -->
<!-- 							rendered="#{usuarioBean.usuario.pessoa=='PF'}" /> -->
<!-- 						<h:outputLabel id="lbCnpj" value="CNPJ:" for="cnpj" -->
<!-- 							rendered="#{usuarioBean.usuario.pessoa=='PJ'}" /> -->

<!-- 					</p:outputPanel> -->

<!-- 					<p:outputPanel id="pnlCpfOUCnpj" style="float: left;"> -->

<!-- 						<p:inputMask mask="999.999.999-99" id="cpf" size="25" -->
<!-- 							rendered="#{usuarioBean.usuario.pessoa=='PF'}" -->
<!-- 							value="#{usuarioBean.usuario.cpf}" style="float: right;" -->
<!-- 							converter="tipopessoaConverter" /> -->

<!-- 						<p:inputMask mask="99.999.999/9999-99" id="cnpj" size="25" -->
<!-- 							rendered="#{usuarioBean.usuario.pessoa=='PJ'}" -->
<!-- 							value="#{usuarioBean.usuario.cnpj}" style="float: right;" -->
<!-- 							converter="tipopessoaConverter" /> -->

<!-- 					</p:outputPanel> -->
					
<!-- 					<p:column> -->
<!--                                 <f:facet name="header"> -->
<!--                                     <h:outputText value="CPF" /> -->
<!--                                 </f:facet> -->
<!--                                 <h:outputText value="#{usuarioBean.usuario.cpf}" /> -->
<!--                             </p:column> -->

<!--                             <p:column> -->
<!--                                 <f:facet name="header"> -->
<!--                                     <h:outputText value="CNPJ" /> -->
<!--                                 </f:facet> -->
<!--                                 <h:outputText value="#{usuarioBean.usuario.cnpj}" /> -->
<!--                     </p:column> -->

					<p:outputLabel value="Data Nascimento:" for="dtNasc" />
					<p:calendar id="dtNasc" value="#{usuarioBean.usuario.dtNasc}"
						 required="true" showOn="button" navigator="true"
						validator="datanascimentoValidator" />
					<p:message id="DtNasc" for="dtNasc" />

					<p:outputLabel value="Estado" for="estado" />
					<p:selectOneMenu id="estado" value="#{usuarioBean.selectEstado}"
						converter="estadoConverter">
						<f:selectItem itemLabel="Selecione..." noSelectionOption="true" />
						<f:selectItems value="#{usuarioBean.listEstados}" />
						<p:ajax event="change" update="municipio"
							listener="#{usuarioBean.carregarMunicipios()}" />
					</p:selectOneMenu>
					<p:message for="estado" />

					<p:outputLabel value="Municipio" for="municipio" />
					<p:selectOneMenu id="municipio"
						value="#{usuarioBean.endereco.municipios}"
						converter="cidadeConverter">
						<f:selectItem itemLabel="Selecione..." noSelectionOption="true" />
						<f:selectItems value="#{usuarioBean.listCidades}" />
					</p:selectOneMenu>
					<p:message for="municipio" />
				</p:panelGrid>

				<p:commandButton value="Cadastrar"
					action="#{usuarioBean.adicionarUsuario}" ajax="false" />
			</h:form>
		</p:panel>
	</ui:define>
</ui:composition>
</html>
